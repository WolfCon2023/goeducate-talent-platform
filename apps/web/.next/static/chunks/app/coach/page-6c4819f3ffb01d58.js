(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[487],{202:(e,t,r)=>{"use strict";r.d(t,{CoachSearch:()=>d});var a=r(4568),s=r(7620),i=r(4542),l=r(2883),n=r(5979),o=r(8648);let c={football:["Quarterback (QB)","Running Back (RB)","Fullback (FB)","Wide Receiver (WR)","Tight End (TE)","Center (C)","Guard (G)","Tackle (T)","Defensive Tackle (DT)","Defensive End (DE)","Linebacker (LB)","Inside Linebacker (ILB)","Outside Linebacker (OLB)","Cornerback (CB)","Free Safety (FS)","Strong Safety (SS)","Kicker (K)","Punter (P)","Long Snapper (LS)","Return Specialist (KR/PR)"],basketball:["Point Guard (PG)","Shooting Guard (SG)","Small Forward (SF)","Power Forward (PF)","Center (C)","Combo Guard","Wing","Forward"],volleyball:["Outside Hitter","Opposite Hitter","Middle Blocker","Setter","Libero","Defensive Specialist"],soccer:["Goalkeeper","Center Back","Left Back","Right Back","Wing Back","Defensive Midfielder","Central Midfielder","Attacking Midfielder","Winger","Forward","Striker"],track:["100m","200m","400m","800m","1500m","Mile","3000m","5000m","10000m","110m Hurdles","100m Hurdles","400m Hurdles","4x100m Relay","4x400m Relay","Long Jump","Triple Jump","High Jump","Pole Vault","Shot Put","Discus","Javelin","Hammer Throw","Decathlon","Heptathlon"]};function d(){let e=(0,o.S)(),[t,r]=(0,s.useState)(""),[d,h]=(0,s.useState)(""),[u,m]=(0,s.useState)(""),[g,x]=(0,s.useState)(""),[v,p]=(0,s.useState)(""),[f,b]=(0,s.useState)(""),[j,w]=(0,s.useState)(""),[y,N]=(0,s.useState)(""),[S,C]=(0,s.useState)(""),[P,k]=(0,s.useState)(""),[F,E]=(0,s.useState)(""),[M,L]=(0,s.useState)(""),[T,D]=(0,s.useState)(""),[O,R]=(0,s.useState)("updated_desc"),[_,I]=(0,s.useState)(!1),[J,B]=(0,s.useState)(null),[U,Y]=(0,s.useState)([]),[G,H]=(0,s.useState)({}),[W,$]=(0,s.useState)(""),[A,q]=(0,s.useState)(!1),[Z,K]=(0,s.useState)([]);function Q(e,t){let r=e?Number(e):NaN,a=t?Number(t):NaN;return Number.isFinite(r)||Number.isFinite(a)?String(12*(Number.isFinite(r)?r:0)+(Number.isFinite(a)?a:0)):""}async function V(){B(null),I(!0);try{let e=(0,n.iD)();if(!e)throw Error("Please login as a coach first.");let r=new URLSearchParams;t&&r.set("sport",t);let a=t?"other"===t||"Other"===d?u.trim():d.trim():"";a&&r.set("position",a),g&&r.set("gradYearMin",g),v&&r.set("gradYearMax",v);let s=Q(f,j),i=Q(y,S);s&&r.set("heightInMin",s),i&&r.set("heightInMax",i),P&&r.set("weightLbMin",P),F&&r.set("weightLbMax",F),M&&r.set("state",M),T&&r.set("q",T),O&&r.set("sort",O);let o=await (0,l.n)("/player-profiles?".concat(r.toString()),{token:e});Y(o.results)}catch(e){B(e instanceof Error?e.message:"Search failed")}finally{I(!1)}}let z=async()=>{B(null),q(!0);try{var e;let t=(0,n.iD)();if(!t)throw Error("Please login as a coach first.");let r=await (0,l.n)("/coach/saved-searches",{token:t});K(null!=(e=r.results)?e:[])}catch(e){B(e instanceof Error?e.message:"Failed to load saved searches")}finally{q(!1)}};async function X(){let e=W.trim();if(e.length<2)return void B("Saved search name is required.");B(null),q(!0);try{let r=(0,n.iD)();if(!r)throw Error("Please login as a coach first.");let a=new URLSearchParams;t&&a.set("sport",t);let s=t?"other"===t||"Other"===d?u.trim():d.trim():"";s&&a.set("position",s),g&&a.set("gradYearMin",g),v&&a.set("gradYearMax",v);let i=Q(f,j),o=Q(y,S);i&&a.set("heightInMin",i),o&&a.set("heightInMax",o),P&&a.set("weightLbMin",P),F&&a.set("weightLbMax",F),M&&a.set("state",M),T&&a.set("q",T),O&&a.set("sort",O);let c={};a.forEach((e,t)=>{c[t]=e}),await (0,l.n)("/coach/saved-searches",{method:"POST",token:r,body:JSON.stringify({name:e,params:c})}),$(""),await z()}catch(e){B(e instanceof Error?e.message:"Failed to save search")}finally{q(!1)}}async function ee(t){if(await e({title:"Delete saved search?",message:"This cannot be undone.",confirmText:"Delete",cancelText:"Cancel",destructive:!0})){B(null),q(!0);try{let e=(0,n.iD)();if(!e)throw Error("Please login as a coach first.");await (0,l.n)("/coach/saved-searches/".concat(t),{method:"DELETE",token:e}),await z()}catch(e){B(e instanceof Error?e.message:"Failed to delete saved search")}finally{q(!1)}}}async function et(e){B(null);try{let t=(0,n.iD)();if(!t)throw Error("Please login as a coach first.");await (0,l.n)("/watchlists/".concat(e),{method:"POST",token:t}),H(t=>({...t,[e]:!0}))}catch(e){B(e instanceof Error?e.message:"Failed to add to watchlist")}}async function er(e){B(null);try{let t=(0,n.iD)();if(!t)throw Error("Please login as a coach first.");await (0,l.n)("/watchlists/".concat(e),{method:"DELETE",token:t}),H(t=>({...t,[e]:!1}))}catch(e){B(e instanceof Error?e.message:"Failed to remove from watchlist")}}return(0,a.jsxs)("div",{className:"grid gap-6",children:[(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold",children:"Saved searches"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-white/80",children:"Save filters for quick reuse."})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(i.$n,{type:"button",className:"border border-white/15 bg-white/5 text-white hover:bg-white/10",onClick:z,disabled:A,children:A?"Loading...":"Refresh"})})]}),(0,a.jsxs)("div",{className:"mt-4 grid gap-3 sm:grid-cols-[1fr_auto]",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(i.JU,{htmlFor:"savedName",children:"Save current filters as"}),(0,a.jsx)(i.pd,{id:"savedName",value:W,onChange:e=>$(e.target.value),placeholder:"e.g., 2026 Football QBs"})]}),(0,a.jsx)("div",{className:"flex items-end",children:(0,a.jsx)(i.$n,{type:"button",onClick:X,disabled:A,children:"Save"})})]}),(0,a.jsxs)("div",{className:"mt-4 grid gap-2",children:[Z.map(e=>(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2 rounded-xl border border-white/10 bg-white/5 p-3",children:[(0,a.jsx)("div",{className:"text-sm font-semibold text-white",children:e.name}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(i.$n,{type:"button",className:"border border-white/15 bg-white/5 text-white hover:bg-white/10",onClick:()=>(function(e){var t,a,s,i,l,n,o,c;let d=null!=(t=e.sport)?t:"";r(d||"");let u=null!=(a=e.position)?a:"";"other"===d?(h(""),m(u)):(u&&"Other"!==u?h(u):h(""),m("")),x(null!=(s=e.gradYearMin)?s:""),p(null!=(i=e.gradYearMax)?i:""),b(""),w(""),N(""),C(""),k(null!=(l=e.weightLbMin)?l:""),E(null!=(n=e.weightLbMax)?n:""),L(null!=(o=e.state)?o:""),D(null!=(c=e.q)?c:""),R(e.sort||"updated_desc")})(e.params),children:"Apply"}),(0,a.jsx)(i.$n,{type:"button",className:"border border-white/15 bg-white/5 text-white hover:bg-white/10",onClick:()=>ee(e.id),children:"Delete"})]})]},e.id)),0===Z.length?(0,a.jsx)("p",{className:"text-sm text-white/70",children:"No saved searches yet."}):null]})]}),(0,a.jsxs)(i.Zp,{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold",children:"Player search"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-white/80",children:"Subscription enforcement is later. RBAC is enforced by the API."}),(0,a.jsxs)("div",{className:"mt-6 grid gap-4 sm:grid-cols-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(i.JU,{htmlFor:"sport",children:"Sport"}),(0,a.jsxs)("select",{id:"sport",className:"w-full rounded-md border border-[color:var(--border)] bg-[var(--surface-soft)] px-3 py-2 text-sm text-[color:var(--foreground)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--color-primary-600)]",value:t,onChange:e=>{r(e.target.value),h(""),m("")},children:[(0,a.jsx)("option",{value:"",children:"Any"}),(0,a.jsx)("option",{value:"football",children:"Football"}),(0,a.jsx)("option",{value:"basketball",children:"Basketball"}),(0,a.jsx)("option",{value:"volleyball",children:"Volleyball"}),(0,a.jsx)("option",{value:"soccer",children:"Soccer"}),(0,a.jsx)("option",{value:"track",children:"Track"}),(0,a.jsx)("option",{value:"other",children:"Other (enter manually)"})]})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(i.JU,{htmlFor:"position",children:"Position / Event"}),"other"===t?(0,a.jsx)(i.pd,{id:"position",value:u,onChange:e=>m(e.target.value),placeholder:"Other (enter manually)"}):(0,a.jsxs)("select",{id:"position",className:"w-full rounded-md border border-[color:var(--border)] bg-[var(--surface-soft)] px-3 py-2 text-sm text-[color:var(--foreground)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--color-primary-600)]",value:d,onChange:e=>{h(e.target.value),"Other"!==e.target.value&&m("")},disabled:!t,children:[(0,a.jsx)("option",{value:"",children:t?"Any":"Select sport first"}),t?c[t].map(e=>(0,a.jsx)("option",{value:e,children:e},e)):null,t?(0,a.jsx)("option",{value:"Other",children:"Other (enter manually)"}):null]}),t&&"Other"===d?(0,a.jsx)(i.pd,{id:"positionOther",value:u,onChange:e=>m(e.target.value),placeholder:"Other (enter manually)"}):null]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(i.JU,{htmlFor:"gradYearMin",children:"Grad year (min)"}),(0,a.jsx)(i.pd,{id:"gradYearMin",type:"number",value:g,onChange:e=>x(e.target.value)})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(i.JU,{htmlFor:"gradYearMax",children:"Grad year (max)"}),(0,a.jsx)(i.pd,{id:"gradYearMax",type:"number",value:v,onChange:e=>p(e.target.value)})]})]}),(0,a.jsxs)("div",{className:"mt-4 grid gap-4 sm:grid-cols-4",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(i.JU,{htmlFor:"heightMinFt",children:"Height min"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsx)(i.pd,{id:"heightMinFt",type:"number",placeholder:"ft",value:f,onChange:e=>b(e.target.value)}),(0,a.jsx)(i.pd,{id:"heightMinIn",type:"number",placeholder:"in",value:j,onChange:e=>w(e.target.value)})]})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(i.JU,{htmlFor:"heightMaxFt",children:"Height max"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsx)(i.pd,{id:"heightMaxFt",type:"number",placeholder:"ft",value:y,onChange:e=>N(e.target.value)}),(0,a.jsx)(i.pd,{id:"heightMaxIn",type:"number",placeholder:"in",value:S,onChange:e=>C(e.target.value)})]})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(i.JU,{htmlFor:"weightMin",children:"Weight min (lb)"}),(0,a.jsx)(i.pd,{id:"weightMin",type:"number",value:P,onChange:e=>k(e.target.value)})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(i.JU,{htmlFor:"weightMax",children:"Weight max (lb)"}),(0,a.jsx)(i.pd,{id:"weightMax",type:"number",value:F,onChange:e=>E(e.target.value)})]})]}),(0,a.jsxs)("div",{className:"mt-4 grid gap-4 sm:grid-cols-3",children:[(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(i.JU,{htmlFor:"state",children:"State"}),(0,a.jsx)(i.pd,{id:"state",value:M,onChange:e=>L(e.target.value)})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(i.JU,{htmlFor:"q",children:"Name"}),(0,a.jsx)(i.pd,{id:"q",value:T,onChange:e=>D(e.target.value)})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsx)(i.JU,{htmlFor:"sort",children:"Sort"}),(0,a.jsxs)("select",{id:"sort",className:"w-full rounded-md border border-[color:var(--border)] bg-[var(--surface-soft)] px-3 py-2 text-sm text-[color:var(--foreground)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--color-primary-600)]",value:O,onChange:e=>R(e.target.value),children:[(0,a.jsx)("option",{value:"updated_desc",children:"Recently updated"}),(0,a.jsx)("option",{value:"newest_film",children:"Newest film"}),(0,a.jsx)("option",{value:"newest_evaluation",children:"Newest evaluation"}),(0,a.jsx)("option",{value:"top_rated",children:"Top-rated (latest eval)"}),(0,a.jsx)("option",{value:"lastName_asc",children:"Last name (A–Z)"}),(0,a.jsx)("option",{value:"gradYear_asc",children:"Grad year (low→high)"}),(0,a.jsx)("option",{value:"gradYear_desc",children:"Grad year (high→low)"})]})]})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(i.$n,{type:"button",onClick:V,disabled:_,children:_?"Searching...":"Search"})}),J?(0,a.jsx)("p",{className:"mt-4 text-sm text-red-300",children:J}):null]}),(0,a.jsxs)("div",{className:"grid gap-3",children:[U.map(e=>(0,a.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-baseline justify-between gap-2",children:[(0,a.jsx)("div",{className:"text-base font-semibold",children:(0,a.jsxs)("a",{className:"text-indigo-300 hover:text-indigo-200 hover:underline",href:"/coach/player/".concat(e.userId),children:[e.firstName," ",e.lastName]})}),(0,a.jsxs)("div",{className:"text-sm text-white/80",children:[(e.sport?"".concat(e.sport," \xb7 "):"")+"".concat(e.position," \xb7 ").concat(e.gradYear," \xb7 ").concat(e.city,", ").concat(e.state),"number"==typeof e.heightIn?" \xb7 ".concat(e.heightIn," in"):"","number"==typeof e.weightLb?" \xb7 ".concat(e.weightLb," lb"):""]})]}),(0,a.jsx)("div",{className:"mt-4 flex flex-wrap gap-2",children:G[e.userId]?(0,a.jsx)(i.$n,{type:"button",className:"border border-white/15 bg-white/5 text-white hover:bg-white/10",onClick:()=>er(e.userId),children:"Remove from watchlist"}):(0,a.jsx)(i.$n,{type:"button",onClick:()=>et(e.userId),children:"Add to watchlist"})})]},e._id)),0===U.length?(0,a.jsx)("p",{className:"text-sm text-white/70",children:"No results yet."}):null]})]})}},2515:(e,t,r)=>{"use strict";r.d(t,{CoachGuard:()=>i});var a=r(4568),s=r(3996);function i(e){return(0,a.jsx)(s.RoleGuard,{allowed:["coach","admin"],children:e.children})}},3011:(e,t,r)=>{"use strict";r.d(t,{CoachWatchlist:()=>o});var a=r(4568),s=r(7620),i=r(4542),l=r(2883),n=r(5979);function o(){let[e,t]=(0,s.useState)(!1),[r,o]=(0,s.useState)(null),[c,d]=(0,s.useState)([]);async function h(){o(null),t(!0);try{let e=(0,n.iD)(),t=(0,n._u)(e);if(!e)throw Error("Please login as a coach first.");if("coach"!==t&&"admin"!==t)throw Error("Insufficient permissions.");let r=await (0,l.n)("/watchlists",{token:e});d(r.results)}catch(e){o(e instanceof Error?e.message:"Failed to load watchlist")}finally{t(!1)}}async function u(e){o(null);try{let t=(0,n.iD)();if(!t)throw Error("Please login as a coach first.");await (0,l.n)("/watchlists/".concat(e),{method:"DELETE",token:t}),await h()}catch(e){o(e instanceof Error?e.message:"Failed to remove")}}return(0,s.useEffect)(()=>{h()},[]),(0,a.jsxs)(i.Zp,{children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg font-semibold",children:"Watchlist"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-white/80",children:"Save players you want to track."})]}),(0,a.jsx)(i.$n,{type:"button",onClick:h,disabled:e,children:e?"Refreshing...":"Refresh"})]}),r?(0,a.jsx)("p",{className:"mt-4 text-sm text-red-300",children:r}):null,(0,a.jsxs)("div",{className:"mt-6 grid gap-3",children:[c.map(e=>{var t,r,s;return(0,a.jsx)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-semibold",children:(0,a.jsx)("a",{className:"text-indigo-300 hover:text-indigo-200 hover:underline",href:"/coach/player/".concat(e.playerUserId),children:(null==(t=e.playerProfile)?void 0:t.firstName)?"".concat(e.playerProfile.firstName," ").concat(null!=(s=e.playerProfile.lastName)?s:"").trim():"Player (profile not created yet)"})}),(null==(r=e.playerProfile)?void 0:r.position)?(0,a.jsxs)("div",{className:"mt-1 text-sm text-white/80",children:[e.playerProfile.position,"number"==typeof e.playerProfile.gradYear?" \xb7 ".concat(e.playerProfile.gradYear):"",e.playerProfile.city&&e.playerProfile.state?" \xb7 ".concat(e.playerProfile.city,", ").concat(e.playerProfile.state):""]}):null]}),(0,a.jsx)(i.$n,{type:"button",className:"border border-white/15 bg-white/5 text-white hover:bg-white/10",onClick:()=>u(e.playerUserId),children:"Remove"})]})},e._id)}),0===c.length?(0,a.jsx)("p",{className:"text-sm text-white/70",children:"No players saved yet."}):null]})]})}},4949:(e,t,r)=>{Promise.resolve().then(r.bind(r,2515)),Promise.resolve().then(r.bind(r,202)),Promise.resolve().then(r.bind(r,3011)),Promise.resolve().then(r.bind(r,4429)),Promise.resolve().then(r.t.bind(r,9664,23))},8648:(e,t,r)=>{"use strict";r.d(t,{ConfirmProvider:()=>l,S:()=>n});var a=r(4568),s=r(7620);let i=(0,s.createContext)(null);function l(e){let[t,r]=(0,s.useState)({open:!1,title:"Confirm",message:"",confirmText:"Confirm",cancelText:"Cancel",destructive:!1}),l=(0,s.useMemo)(()=>e=>new Promise(t=>{var a,s,i;r({open:!0,title:null!=(a=e.title)?a:"Confirm",message:e.message,confirmText:null!=(s=e.confirmText)?s:"Confirm",cancelText:null!=(i=e.cancelText)?i:"Cancel",destructive:!!e.destructive,resolve:t})}),[]);function n(e){let a=t.resolve;r(e=>({...e,open:!1,resolve:void 0})),null==a||a(e)}return(0,a.jsxs)(i.Provider,{value:l,children:[e.children,t.open?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/70",onClick:()=>n(!1)}),(0,a.jsxs)("div",{className:"relative w-full max-w-lg rounded-2xl border border-[color:var(--border)] bg-[var(--surface)] p-6 shadow-2xl",children:[(0,a.jsx)("div",{className:"text-lg font-semibold text-[color:var(--foreground)]",children:t.title}),(0,a.jsx)("p",{className:"mt-2 whitespace-pre-wrap text-sm text-[color:var(--muted)]",children:t.message}),(0,a.jsxs)("div",{className:"mt-6 flex flex-wrap justify-end gap-3",children:[(0,a.jsx)("button",{type:"button",className:"rounded-md border border-[color:var(--border)] bg-[var(--surface-soft)] px-4 py-2 text-sm font-medium text-[color:var(--foreground)] hover:bg-[var(--surface)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/60",onClick:()=>n(!1),children:t.cancelText}),(0,a.jsx)("button",{type:"button",className:"rounded-md px-4 py-2 text-sm font-medium ".concat(t.destructive?"bg-red-500 text-white hover:bg-red-600 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/60":"bg-indigo-600 text-white hover:bg-indigo-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/60"),onClick:()=>n(!0),children:t.confirmText})]})]})]}):null]})}function n(){let e=(0,s.useContext)(i);if(!e)throw Error("useConfirm must be used within ConfirmProvider");return e}}},e=>{e.O(0,[664,790,752,587,18,358],()=>e(e.s=4949)),_N_E=e.O()}]);