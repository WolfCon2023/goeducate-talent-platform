(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[910],{641:(e,t,r)=>{Promise.resolve().then(r.bind(r,8691)),Promise.resolve().then(r.bind(r,3875)),Promise.resolve().then(r.bind(r,8680)),Promise.resolve().then(r.t.bind(r,9664,23))},3200:(e,t,r)=>{"use strict";r.d(t,{B:()=>a,_:()=>l});var i=r(2883);function l(e){if(e instanceof i.X){let t=e.details,r=(null==t?void 0:t.fieldErrors)&&"object"==typeof t.fieldErrors?t.fieldErrors:void 0,i=Array.isArray(null==t?void 0:t.formErrors)?t.formErrors:[];return{formError:[e.message,...i].filter(Boolean).join(" ")||e.message,fieldErrors:r}}return e instanceof Error?{formError:e.message}:{formError:"Something went wrong."}}function a(e,t){var r;let i=null==e?void 0:e[t];return i&&Array.isArray(i)&&0!==i.length&&null!=(r=i[0])?r:null}},3875:(e,t,r)=>{"use strict";r.d(t,{PlayerFilmStatusWidget:()=>c});var i=r(4568),l=r(9664),a=r.n(l),s=r(7620),n=r(4542),o=r(2883),d=r(5979);function c(){let[e,t]=(0,s.useState)(!1),[r,l]=(0,s.useState)(null),[c,u]=(0,s.useState)([]);async function m(){l(null),t(!0);try{let e=(0,d.iD)(),t=(0,d._u)(e);if(!e)throw Error("Please login first.");if(t&&"player"!==t)throw Error("This page is only available to player accounts.");let r=await (0,o.n)("/film-submissions/me",{token:e});u(r.results)}catch(e){l(e instanceof Error?e.message:"Failed to load film status")}finally{t(!1)}}(0,s.useEffect)(()=>{m()},[]);let h=(0,s.useMemo)(()=>{let e={submitted:0,in_review:0,completed:0};for(let t of c)"submitted"===t.status?e.submitted+=1:"in_review"===t.status?e.in_review+=1:"completed"===t.status&&(e.completed+=1);return e},[c]),v=(0,s.useMemo)(()=>c.length?c.slice().sort((e,t)=>{var r,i;return(null!=(r=t.createdAt)?r:"").localeCompare(null!=(i=e.createdAt)?i:"")})[0]:null,[c]);return(0,i.jsxs)(n.Zp,{children:[(0,i.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"text-lg font-semibold",children:"Evaluation status"}),(0,i.jsx)("p",{className:"mt-1 text-sm text-white/80",children:"Track where your film is in the evaluation process."})]}),(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)(n.$n,{type:"button",onClick:m,disabled:e,children:e?"Refreshing...":"Refresh"}),(0,i.jsx)(a(),{href:"/player/film",className:"text-sm text-indigo-300 hover:text-indigo-200 hover:underline",children:"View submissions"})]})]}),r?(0,i.jsx)("p",{className:"mt-4 text-sm text-red-300",children:r}):null,(0,i.jsxs)("div",{className:"mt-6 grid gap-3 sm:grid-cols-3",children:[(0,i.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[(0,i.jsx)("div",{className:"text-xs uppercase tracking-wide text-white/70",children:"Submitted"}),(0,i.jsx)("div",{className:"mt-1 text-2xl font-semibold",children:h.submitted})]}),(0,i.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[(0,i.jsx)("div",{className:"text-xs uppercase tracking-wide text-white/70",children:"In review"}),(0,i.jsx)("div",{className:"mt-1 text-2xl font-semibold",children:h.in_review})]}),(0,i.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4",children:[(0,i.jsx)("div",{className:"text-xs uppercase tracking-wide text-white/70",children:"Completed"}),(0,i.jsx)("div",{className:"mt-1 text-2xl font-semibold",children:h.completed})]})]}),v?(0,i.jsxs)("p",{className:"mt-4 text-sm text-white/80",children:["Latest: ",(0,i.jsx)("span",{className:"text-white",children:v.title})," (",v.status.replace("_"," "),")"]}):(0,i.jsx)("p",{className:"mt-4 text-sm text-white/70",children:"No submissions yet."})]})}},6015:(e,t,r)=>{"use strict";r.d(t,{N:()=>a,b:()=>s});var i=r(4568),l=r(3200);function a(e){var t,r;let l=Object.entries(null!=(t=e.fieldErrors)?t:{}).filter(e=>{let[,t]=e;return Array.isArray(t)&&t.length>0});return e.formError||l.length>0?(0,i.jsxs)("div",{className:"rounded-xl border border-red-400/30 bg-red-500/10 p-4",children:[(0,i.jsx)("div",{className:"text-sm font-semibold text-red-200",children:null!=(r=e.title)?r:"Please fix the following:"}),(0,i.jsxs)("div",{className:"mt-2 grid gap-1 text-sm text-red-100",children:[e.formError?(0,i.jsx)("div",{children:e.formError}):null,l.length?(0,i.jsx)("ul",{className:"list-disc pl-5",children:l.slice(0,8).map(e=>{let[t,r]=e;return(0,i.jsxs)("li",{children:[(0,i.jsxs)("span",{className:"font-semibold",children:[t,":"]})," ",r[0]]},t)})}):null]})]}):null}function s(e){let t=(0,l.B)(e.fieldErrors,e.name);return t?(0,i.jsx)("div",{className:"text-sm text-red-300",children:t}):null}},8680:(e,t,r)=>{"use strict";r.d(t,{PlayerProfileForm:()=>h});var i=r(4568),l=r(7620),a=r(4542),s=r(2883),n=r(5979),o=r(4429),d=r(6015),c=r(3200);let u={football:["Quarterback (QB)","Running Back (RB)","Fullback (FB)","Wide Receiver (WR)","Tight End (TE)","Center (C)","Guard (G)","Tackle (T)","Defensive Tackle (DT)","Defensive End (DE)","Linebacker (LB)","Inside Linebacker (ILB)","Outside Linebacker (OLB)","Cornerback (CB)","Free Safety (FS)","Strong Safety (SS)","Kicker (K)","Punter (P)","Long Snapper (LS)","Return Specialist (KR/PR)"],basketball:["Point Guard (PG)","Shooting Guard (SG)","Small Forward (SF)","Power Forward (PF)","Center (C)","Combo Guard","Wing","Forward"],volleyball:["Outside Hitter","Opposite Hitter","Middle Blocker","Setter","Libero","Defensive Specialist"],soccer:["Goalkeeper","Center Back","Left Back","Right Back","Wing Back","Defensive Midfielder","Central Midfielder","Attacking Midfielder","Winger","Forward","Striker"],track:["100m","200m","400m","800m","1500m","Mile","3000m","5000m","10000m","110m Hurdles","100m Hurdles","400m Hurdles","4x100m Relay","4x400m Relay","Long Jump","Triple Jump","High Jump","Pole Vault","Shot Put","Discus","Javelin","Hammer Throw","Decathlon","Heptathlon"]};function m(e){let t=(null!=e?e:"").trim();if(!t)return null;for(let e of Object.keys(u))if(u[e].includes(t))return e;return null}function h(e){var t,r,h,v,g,p,x,f,b,j,N,y,w,E,k,S,P,F,L,C,O,B,I,J,_;let[T,Y]=(0,l.useState)(!1),[U,D]=(0,l.useState)({firstName:null!=(w=null==(t=e.initial)?void 0:t.firstName)?w:"",lastName:null!=(E=null==(r=e.initial)?void 0:r.lastName)?E:"",sport:null==(h=e.initial)?void 0:h.sport,position:null!=(k=null==(v=e.initial)?void 0:v.position)?k:"",gradYear:null!=(S=null==(g=e.initial)?void 0:g.gradYear)?S:new Date().getFullYear(),state:null!=(P=null==(p=e.initial)?void 0:p.state)?P:"",city:null!=(F=null==(x=e.initial)?void 0:x.city)?F:"",heightIn:null==(f=e.initial)?void 0:f.heightIn,weightLb:null==(b=e.initial)?void 0:b.weightLb,contactEmail:null==(j=e.initial)?void 0:j.contactEmail,contactPhone:null==(N=e.initial)?void 0:N.contactPhone,hudlLink:null==(y=e.initial)?void 0:y.hudlLink}),[R,G]=(0,l.useState)(()=>{var t,r;let i=null!=(r=null==(t=e.initial)?void 0:t.position)?r:"";return m(i)?i:"Other"}),[A,H]=(0,l.useState)(()=>{var t,r;let i=null!=(r=null==(t=e.initial)?void 0:t.position)?r:"";return m(i)?"":i}),[M,W]=(0,l.useState)(()=>{var t;return"number"==typeof(null==(t=e.initial)?void 0:t.heightIn)?Math.floor(e.initial.heightIn/12):void 0}),[q,K]=(0,l.useState)(()=>{var t;return"number"==typeof(null==(t=e.initial)?void 0:t.heightIn)?e.initial.heightIn%12:void 0}),[V,Q]=(0,l.useState)(null),[Z,$]=(0,l.useState)(null),[X,z]=(0,l.useState)(void 0),[ee,et]=(0,l.useState)(!1);function er(e,t){D(r=>({...r,[e]:t}))}async function ei(){Q(null),$(null),z(void 0),et(!0);try{let e=(0,n.iD)();if(!e)throw Error("Please login first.");let t=(0,n._u)(e);if(t&&"player"!==t)throw Error("This page is only available to player accounts.");let r=function(e,t){if("number"!=typeof e&&"number"!=typeof t)return;let r="number"==typeof e?e:0,i="number"==typeof t?t:0;if(r<0||i<0)return;let l=12*r+i;return Number.isFinite(l)?l:void 0}(M,q),i="Other"===R?A.trim():R,l={};if(U.firstName.trim()||(l.firstName=["First name is required."]),U.lastName.trim()||(l.lastName=["Last name is required."]),U.city.trim()||(l.city=["City is required."]),U.state.trim()||(l.state=["State is required."]),Number.isFinite(Number(U.gradYear))||(l.gradYear=["Graduation year is required."]),i||(l.position=["Position / Event is required."]),Object.keys(l).length>0)return void z(l);await (0,s.n)("/player-profiles/me",{method:"PUT",token:e,body:JSON.stringify({...U,position:i,gradYear:Number(U.gradYear),heightIn:r,weightLb:U.weightLb?Number(U.weightLb):void 0})}),Q("Saved.")}catch(r){var e;let t=(0,c._)(r);$(null!=(e=t.formError)?e:"Save failed"),z(t.fieldErrors)}finally{et(!1)}}return(0,l.useEffect)(()=>{let e=!1;return async function(){let t=(0,n.iD)(),r=(0,n._u)(t);if(t){if(r&&"player"!==r)return $("This page is only available to player accounts.");Y(!0);try{var i,l,a,o,d,c,h;let r=await (0,s.n)("/player-profiles/me",{token:t});if(e)return;D(e=>{var t,i,l,a,s,n;return{...e,firstName:null!=(t=r.firstName)?t:"",lastName:null!=(i=r.lastName)?i:"",sport:r.sport,position:null!=(l=r.position)?l:"",gradYear:null!=(a=r.gradYear)?a:e.gradYear,state:null!=(s=r.state)?s:"",city:null!=(n=r.city)?n:"",heightIn:r.heightIn,weightLb:r.weightLb,contactEmail:r.contactEmail,contactPhone:r.contactPhone,hudlLink:r.hudlLink}});let n=m(null!=(i=r.position)?i:""),v=null!=(a=null!=(l=r.sport)?l:n)?a:void 0;D(e=>({...e,sport:v})),v&&"other"!==v?u[v].includes(null!=(o=r.position)?o:"")?(G(null!=(d=r.position)?d:""),H("")):(G("Other"),H(null!=(c=r.position)?c:"")):(G("Other"),H(null!=(h=r.position)?h:"")),W("number"==typeof r.heightIn?Math.floor(r.heightIn/12):void 0),K("number"==typeof r.heightIn?r.heightIn%12:void 0)}catch(t){let e=t instanceof Error?t.message:"";"Profile not found"!==e&&$(e||"Failed to load profile")}finally{e||Y(!1)}}}(),()=>{e=!0}},[]),(0,i.jsxs)("div",{className:"grid gap-4",children:[(0,i.jsx)(o.ProfilePhotoUploader,{title:"Player profile photo"}),(0,i.jsxs)(a.Zp,{children:[(0,i.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"text-lg font-semibold",children:"Athlete profile"}),(0,i.jsx)("p",{className:"mt-1 text-sm text-white/80",children:"This powers coach search and evaluation workflows."})]}),(0,i.jsx)(a.$n,{type:"button",onClick:ei,disabled:ee,children:ee?"Saving...":"Save"})]}),T?(0,i.jsx)("p",{className:"mt-4 text-sm text-white/80",children:"Loading your saved profile..."}):null,(0,i.jsx)("div",{className:"mt-4",children:(0,i.jsx)(d.N,{formError:null!=Z?Z:void 0,fieldErrors:X})}),(0,i.jsxs)("div",{className:"mt-6 grid gap-4 sm:grid-cols-2",children:[(0,i.jsxs)("div",{className:"grid gap-2",children:[(0,i.jsx)(a.JU,{htmlFor:"firstName",children:"First name"}),(0,i.jsx)(a.pd,{id:"firstName",value:U.firstName,onChange:e=>er("firstName",e.target.value)}),(0,i.jsx)(d.b,{name:"firstName",fieldErrors:X})]}),(0,i.jsxs)("div",{className:"grid gap-2",children:[(0,i.jsx)(a.JU,{htmlFor:"lastName",children:"Last name"}),(0,i.jsx)(a.pd,{id:"lastName",value:U.lastName,onChange:e=>er("lastName",e.target.value)}),(0,i.jsx)(d.b,{name:"lastName",fieldErrors:X})]}),(0,i.jsxs)("div",{className:"grid gap-2",children:[(0,i.jsx)(a.JU,{htmlFor:"sport",children:"Sport"}),(0,i.jsxs)("select",{id:"sport",className:"w-full rounded-md border border-[color:var(--border)] bg-[var(--surface-soft)] px-3 py-2 text-sm text-[color:var(--foreground)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--color-primary-600)]",value:null!=(L=U.sport)?L:"football",onChange:e=>{er("sport",e.target.value),G("Other"),H("")},children:[(0,i.jsx)("option",{value:"football",children:"Football"}),(0,i.jsx)("option",{value:"basketball",children:"Basketball"}),(0,i.jsx)("option",{value:"volleyball",children:"Volleyball"}),(0,i.jsx)("option",{value:"soccer",children:"Soccer"}),(0,i.jsx)("option",{value:"track",children:"Track"}),(0,i.jsx)("option",{value:"other",children:"Other (enter manually)"})]}),(0,i.jsx)(d.b,{name:"sport",fieldErrors:X})]}),(0,i.jsxs)("div",{className:"grid gap-2",children:[(0,i.jsx)(a.JU,{htmlFor:"position",children:"Position / Event"}),"other"===U.sport?(0,i.jsx)(a.pd,{id:"position",value:A,onChange:e=>H(e.target.value),placeholder:"Other (enter manually)"}):(0,i.jsxs)("select",{id:"position",className:"w-full rounded-md border border-[color:var(--border)] bg-[var(--surface-soft)] px-3 py-2 text-sm text-[color:var(--foreground)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--color-primary-600)]",value:R,onChange:e=>{G(e.target.value),"Other"!==e.target.value&&H("")},children:[(null!=(O=u[null!=(C=U.sport)?C:"football"])?O:[]).map(e=>(0,i.jsx)("option",{value:e,children:e},e)),(0,i.jsx)("option",{value:"Other",children:"Other (enter manually)"})]}),"other"!==U.sport&&"Other"===R?(0,i.jsx)(a.pd,{id:"positionOther",value:A,onChange:e=>H(e.target.value),placeholder:"Other (enter manually)"}):null,(0,i.jsx)(d.b,{name:"position",fieldErrors:X})]}),(0,i.jsxs)("div",{className:"grid gap-2",children:[(0,i.jsx)(a.JU,{htmlFor:"gradYear",children:"Graduation year"}),(0,i.jsx)(a.pd,{id:"gradYear",type:"number",value:U.gradYear,onChange:e=>er("gradYear",Number(e.target.value))}),(0,i.jsx)(d.b,{name:"gradYear",fieldErrors:X})]}),(0,i.jsxs)("div",{className:"grid gap-2",children:[(0,i.jsx)(a.JU,{htmlFor:"city",children:"City"}),(0,i.jsx)(a.pd,{id:"city",value:U.city,onChange:e=>er("city",e.target.value)}),(0,i.jsx)(d.b,{name:"city",fieldErrors:X})]}),(0,i.jsxs)("div",{className:"grid gap-2",children:[(0,i.jsx)(a.JU,{htmlFor:"state",children:"State"}),(0,i.jsx)(a.pd,{id:"state",value:U.state,onChange:e=>er("state",e.target.value)}),(0,i.jsx)(d.b,{name:"state",fieldErrors:X})]}),(0,i.jsxs)("div",{className:"grid gap-2",children:[(0,i.jsx)("div",{className:"text-sm font-medium text-[color:var(--muted)]",children:"Height"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,i.jsxs)("div",{className:"grid gap-2",children:[(0,i.jsx)("div",{className:"text-xs text-white/70",children:"Ft"}),(0,i.jsx)(a.pd,{id:"heightFt",type:"number",min:4,max:7,value:null!=M?M:"",onChange:e=>{let t=e.target.value?Number(e.target.value):void 0;W(Number.isFinite(t)?t:void 0)}})]}),(0,i.jsxs)("div",{className:"grid gap-2",children:[(0,i.jsx)("div",{className:"text-xs text-white/70",children:"In"}),(0,i.jsx)(a.pd,{id:"heightInPart",type:"number",min:0,max:11,value:null!=q?q:"",onChange:e=>{let t=e.target.value?Number(e.target.value):void 0;K(Number.isFinite(t)?t:void 0)}})]})]})]}),(0,i.jsxs)("div",{className:"grid gap-2",children:[(0,i.jsx)(a.JU,{htmlFor:"weightLb",children:"Weight (lbs)"}),(0,i.jsx)(a.pd,{id:"weightLb",type:"number",value:null!=(B=U.weightLb)?B:"",onChange:e=>er("weightLb",e.target.value?Number(e.target.value):void 0)})]}),(0,i.jsxs)("div",{className:"grid gap-2 sm:col-span-2",children:[(0,i.jsx)(a.JU,{htmlFor:"contactEmail",children:"Contact email (coach gated)"}),(0,i.jsx)(a.pd,{id:"contactEmail",type:"email",value:null!=(I=U.contactEmail)?I:"",onChange:e=>er("contactEmail",e.target.value||void 0),placeholder:"you@example.com"}),(0,i.jsx)(d.b,{name:"contactEmail",fieldErrors:X})]}),(0,i.jsxs)("div",{className:"grid gap-2 sm:col-span-2",children:[(0,i.jsx)(a.JU,{htmlFor:"contactPhone",children:"Contact phone (coach gated)"}),(0,i.jsx)(a.pd,{id:"contactPhone",value:null!=(J=U.contactPhone)?J:"",onChange:e=>er("contactPhone",e.target.value||void 0),placeholder:"(555) 555-5555"}),(0,i.jsx)(d.b,{name:"contactPhone",fieldErrors:X})]}),(0,i.jsxs)("div",{className:"grid gap-2 sm:col-span-2",children:[(0,i.jsx)(a.JU,{htmlFor:"hudlLink",children:"HUDL link (later)"}),(0,i.jsx)(a.pd,{id:"hudlLink",value:null!=(_=U.hudlLink)?_:"",onChange:e=>er("hudlLink",e.target.value)})]})]}),V?(0,i.jsx)("p",{className:"mt-4 text-sm text-white/80",children:V}):null]})]})}},8691:(e,t,r)=>{"use strict";r.d(t,{PlayerGuard:()=>a});var i=r(4568),l=r(3996);function a(e){return(0,i.jsx)(l.RoleGuard,{allowed:["player"],children:e.children})}}},e=>{e.O(0,[664,790,752,587,18,358],()=>e(e.s=641)),_N_E=e.O()}]);