(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[199],{2883:(e,t,r)=>{"use strict";r.d(t,{X:()=>n,n:()=>a});var s=r(7011);class n extends Error{constructor(e){super(e.message),this.name="ApiFetchError",this.status=e.status,this.code=e.code,this.details=e.details}}async function a(e,t){var r,a,l,i,o;let c=function(){let e=s.env.NEXT_PUBLIC_API_URL;if(!e)throw Error("Missing NEXT_PUBLIC_API_URL");return e.replace(/\/+$/,"")}(),u=new Headers(null==t?void 0:t.headers);u.set("content-type","application/json"),(null==t?void 0:t.token)&&u.set("authorization","Bearer ".concat(t.token));let d=await fetch("".concat(c).concat(e),{...t,headers:u,cache:"no-store"});if(!d.ok){let e=await d.json().catch(()=>({}));throw new n({message:null!=(i=null==(r=e.error)?void 0:r.message)?i:"Request failed: ".concat(d.status),status:d.status,code:null==(a=e.error)?void 0:a.code,details:null==(l=e.error)?void 0:l.details})}if(204===d.status)return;if(!(null!=(o=d.headers.get("content-type"))?o:"").includes("application/json")){let e=await d.text();if(!e)return;return e}let h=await d.text();if(h)return JSON.parse(h)}},3996:(e,t,r)=>{"use strict";r.d(t,{RoleGuard:()=>o});var s=r(4568),n=r(7541),a=r(7620),l=r(5979);let i={player:"/player",coach:"/coach",evaluator:"/evaluator",admin:"/admin"};function o(e){return!0!==function(e){let t=(0,n.useRouter)(),[r,s]=(0,a.useState)(null),o=e.join(",");return(0,a.useEffect)(()=>{let e=(0,l.iD)(),r=(0,l._u)(e);if(!e||!r){s(!1),t.push("/login");return}if(!new Set(o.split(",").filter(Boolean)).has(r)){var n;s(!1),t.push(null!=(n=i[r])?n:"/");return}s(!0)},[t,o]),r}(e.allowed)?null:(0,s.jsx)(s.Fragment,{children:e.children})}},4542:(e,t,r)=>{"use strict";r.d(t,{$n:()=>n,JU:()=>l,Zp:()=>i,pd:()=>a});var s=r(4568);function n(e){let{className:t="",...r}=e;return(0,s.jsx)("button",{className:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-500 disabled:opacity-60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--color-primary-600)] ".concat(t),...r})}function a(e){let{className:t="",...r}=e;return(0,s.jsx)("input",{className:"w-full rounded-md border border-[color:var(--border)] bg-[var(--surface-soft)] px-3 py-2 text-sm text-[color:var(--foreground)] placeholder:text-[color:var(--muted-3)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--color-primary-600)] ".concat(t),...r})}function l(e){return(0,s.jsx)("label",{htmlFor:e.htmlFor,className:"text-sm font-medium text-[color:var(--muted)]",children:e.children})}function i(e){return(0,s.jsx)("div",{className:"rounded-2xl border border-[color:var(--border)] bg-[var(--surface)] p-6",children:e.children})}},5979:(e,t,r)=>{"use strict";r.d(t,{QG:()=>i,_u:()=>l,bZ:()=>c,iD:()=>n,ki:()=>o});let s="goeducate_access_token";function n(){return window.localStorage.getItem(s)}function a(e){let t="=".repeat((4-e.length%4)%4);return decodeURIComponent(atob((e+t).replace(/-/g,"+").replace(/_/g,"/")).split("").map(e=>"%".concat(e.charCodeAt(0).toString(16).padStart(2,"0"))).join(""))}function l(e){if(!e)return null;let t=e.split(".");if(3!==t.length)return null;try{var r;let e=JSON.parse(a(null!=(r=t[1])?r:""));return"string"==typeof(null==e?void 0:e.role)?e.role:null}catch(e){return null}}function i(e){if(!e)return null;let t=e.split(".");if(3!==t.length)return null;try{var r;let e=JSON.parse(a(null!=(r=t[1])?r:""));return"string"==typeof(null==e?void 0:e.sub)?e.sub:null}catch(e){return null}}function o(e){window.localStorage.setItem(s,e)}function c(){window.localStorage.removeItem(s)}},7541:(e,t,r)=>{"use strict";var s=r(3041);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},8053:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(4568),n=r(9664),a=r.n(n),l=r(7620),i=r(4542),o=r(2883),c=r(5979),u=r(8267);function d(){let[e,t]=(0,l.useState)(!1),[r,n]=(0,l.useState)(null),[d,h]=(0,l.useState)([]);(0,l.useEffect)(()=>{let e=!1;return async function(){n(null),t(!0);try{var r;let t=(0,c.iD)();if(!t)throw Error("Please login first.");let s=await (0,o.n)("/showcases",{token:t});e||h(null!=(r=s.results)?r:[])}catch(t){e||n(t instanceof Error?t.message:"Failed to load showcases")}finally{e||t(!1)}}(),()=>{e=!0}},[]);let m=(0,l.useMemo)(()=>!e&&0===d.length&&!r,[e,d.length,r]);return(0,s.jsx)(u.U,{children:(0,s.jsxs)("div",{className:"grid gap-8",children:[(0,s.jsxs)("section",{className:"rounded-2xl border border-white/10 bg-[var(--surface)] p-10",children:[(0,s.jsxs)("div",{className:"max-w-3xl",children:[(0,s.jsx)("h1",{className:"text-balance text-4xl font-semibold tracking-tight",children:"Showcases"}),(0,s.jsx)("p",{className:"mt-3 text-lg text-white/90",children:"Browse upcoming showcases and register."})]}),(0,s.jsx)("div",{className:"mt-6 flex flex-wrap gap-3",children:(0,s.jsx)(a(),{href:"/showcases/registrations",className:"text-sm text-indigo-300 hover:text-indigo-200 hover:underline",children:"My registrations"})})]}),r?(0,s.jsx)(i.Zp,{children:(0,s.jsx)("p",{className:"text-sm text-red-300",children:r})}):null,e?(0,s.jsx)(i.Zp,{children:(0,s.jsx)("p",{className:"text-sm text-white/80",children:"Loading showcases..."})}):null,m?(0,s.jsxs)(i.Zp,{children:[(0,s.jsx)("h2",{className:"text-lg font-semibold",children:"No showcases available yet."}),(0,s.jsx)("p",{className:"mt-2 text-sm text-white/80",children:"Check back soon."})]}):null,d.length?(0,s.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:d.map(e=>{var t;let r="open"===e.registrationStatus,n="sold_out"===e.registrationStatus;return(0,s.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,s.jsx)("div",{className:"text-base font-semibold text-white",children:e.title}),(0,s.jsx)("div",{className:"shrink-0 rounded-full border px-2 py-0.5 text-xs font-semibold ".concat(n?"border-amber-400/30 bg-amber-500/10 text-amber-200":r?"border-emerald-400/30 bg-emerald-500/10 text-emerald-200":"border-white/10 bg-white/5 text-white/70"),children:e.registrationStatusLabel})]}),(0,s.jsx)("div",{className:"mt-2 text-sm text-white/80",children:function(e,t){if(!e)return"TBD";let r=new Date(e),s=t?new Date(t):null,n=r.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"});if(!s)return n;let a=s.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"});return n===a?n:"".concat(n," â€“ ").concat(a)}(e.startDateTime,e.endDateTime)}),(0,s.jsxs)("div",{className:"mt-1 text-sm text-white/80",children:[e.city,", ",e.state," \xb7 ",e.locationName]}),(0,s.jsxs)("div",{className:"mt-3 text-sm text-white/90",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Cost:"})," ",function(e,t){let r=(null!=e?e:0)/100;try{return new Intl.NumberFormat(void 0,{style:"currency",currency:(t||"usd").toUpperCase()}).format(r)}catch(e){return"$".concat(r.toFixed(2))}}(e.costCents,e.currency)]}),(0,s.jsx)("div",{className:"mt-3 flex flex-wrap gap-2",children:(null!=(t=e.sportCategories)?t:[]).slice(0,6).map(e=>(0,s.jsx)("span",{className:"rounded-full border border-white/15 bg-white/5 px-2 py-0.5 text-xs font-semibold text-white/80",children:e},e))}),(0,s.jsxs)("div",{className:"mt-4 flex items-center justify-between gap-3",children:[(0,s.jsx)(a(),{href:"/showcases/".concat(encodeURIComponent(e.slug||e.id)),className:"text-sm text-indigo-300 hover:text-indigo-200 hover:underline",children:"Details"}),(0,s.jsx)(i.$n,{type:"button",disabled:!r,onClick:()=>{window.location.href="/showcases/".concat(encodeURIComponent(e.slug||e.id))},children:"Register"})]})]},e.id)})}):null]})})}},8267:(e,t,r)=>{"use strict";r.d(t,{U:()=>a});var s=r(4568),n=r(3996);function a(e){return(0,s.jsx)(n.RoleGuard,{allowed:["player","coach","evaluator","admin"],children:e.children})}},9252:(e,t,r)=>{Promise.resolve().then(r.bind(r,8053))}},e=>{e.O(0,[664,587,18,358],()=>e(e.s=9252)),_N_E=e.O()}]);