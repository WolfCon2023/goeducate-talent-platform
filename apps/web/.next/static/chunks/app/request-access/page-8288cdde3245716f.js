(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[417],{2883:(e,t,r)=>{"use strict";r.d(t,{X:()=>l,n:()=>s});var i=r(7011);class l extends Error{constructor(e){super(e.message),this.name="ApiFetchError",this.status=e.status,this.code=e.code,this.details=e.details}}async function s(e,t){var r,s,o,a,n;let c=function(){let e=i.env.NEXT_PUBLIC_API_URL;if(!e)throw Error("Missing NEXT_PUBLIC_API_URL");return e.replace(/\/+$/,"")}(),d=new Headers(null==t?void 0:t.headers);d.set("content-type","application/json"),(null==t?void 0:t.token)&&d.set("authorization","Bearer ".concat(t.token));let u=await fetch("".concat(c).concat(e),{...t,headers:d,cache:"no-store"});if(!u.ok){let e=await u.json().catch(()=>({}));throw new l({message:null!=(a=null==(r=e.error)?void 0:r.message)?a:"Request failed: ".concat(u.status),status:u.status,code:null==(s=e.error)?void 0:s.code,details:null==(o=e.error)?void 0:o.details})}if(204===u.status)return;if(!(null!=(n=u.headers.get("content-type"))?n:"").includes("application/json")){let e=await u.text();if(!e)return;return e}let h=await u.text();if(h)return JSON.parse(h)}},3200:(e,t,r)=>{"use strict";r.d(t,{B:()=>s,_:()=>l});var i=r(2883);function l(e){if(e instanceof i.X){let t=e.details,r=(null==t?void 0:t.fieldErrors)&&"object"==typeof t.fieldErrors?t.fieldErrors:void 0,i=Array.isArray(null==t?void 0:t.formErrors)?t.formErrors:[];return{formError:[e.message,...i].filter(Boolean).join(" ")||e.message,fieldErrors:r}}return e instanceof Error?{formError:e.message}:{formError:"Something went wrong."}}function s(e,t){var r;let i=null==e?void 0:e[t];return i&&Array.isArray(i)&&0!==i.length&&null!=(r=i[0])?r:null}},4542:(e,t,r)=>{"use strict";r.d(t,{$n:()=>l,JU:()=>o,Zp:()=>a,pd:()=>s});var i=r(4568);function l(e){let{className:t="",...r}=e;return(0,i.jsx)("button",{className:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-medium text-white hover:bg-indigo-500 disabled:opacity-60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--color-primary-600)] ".concat(t),...r})}function s(e){let{className:t="",...r}=e;return(0,i.jsx)("input",{className:"w-full rounded-md border border-[color:var(--border)] bg-[var(--surface-soft)] px-3 py-2 text-sm text-[color:var(--foreground)] placeholder:text-[color:var(--muted-3)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--color-primary-600)] ".concat(t),...r})}function o(e){return(0,i.jsx)("label",{htmlFor:e.htmlFor,className:"text-sm font-medium text-[color:var(--muted)]",children:e.children})}function a(e){return(0,i.jsx)("div",{className:"rounded-2xl border border-[color:var(--border)] bg-[var(--surface)] p-6",children:e.children})}},6015:(e,t,r)=>{"use strict";r.d(t,{N:()=>s,b:()=>o});var i=r(4568),l=r(3200);function s(e){var t,r;let l=Object.entries(null!=(t=e.fieldErrors)?t:{}).filter(e=>{let[,t]=e;return Array.isArray(t)&&t.length>0});return e.formError||l.length>0?(0,i.jsxs)("div",{className:"rounded-xl border border-red-400/30 bg-red-500/10 p-4",children:[(0,i.jsx)("div",{className:"text-sm font-semibold text-red-200",children:null!=(r=e.title)?r:"Please fix the following:"}),(0,i.jsxs)("div",{className:"mt-2 grid gap-1 text-sm text-red-100",children:[e.formError?(0,i.jsx)("div",{children:e.formError}):null,l.length?(0,i.jsx)("ul",{className:"list-disc pl-5",children:l.slice(0,8).map(e=>{let[t,r]=e;return(0,i.jsxs)("li",{children:[(0,i.jsxs)("span",{className:"font-semibold",children:[t,":"]})," ",r[0]]},t)})}):null]})]}):null}function o(e){let t=(0,l.B)(e.fieldErrors,e.name);return t?(0,i.jsx)("div",{className:"text-sm text-red-300",children:t}):null}},7038:(e,t,r)=>{Promise.resolve().then(r.bind(r,9635))},9635:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var i=r(4568),l=r(9664),s=r.n(l),o=r(7620),a=r(4542),n=r(2883),c=r(6015),d=r(3200);let u=JSON.parse('{"p":{"version":"1.0.0","roles":["player","coach","evaluator"],"sports":{"options":["Basketball","Football","Volleyball","Baseball","Soccer","Other"],"otherSportTextFieldKey":"sportOther"},"questionsByRole":{"player":[{"id":"player_competition_level","label":"What is your current level of athletic competition?","type":"single_select","required":true,"options":["Middle School","High School (Varsity)","High School (JV)","Prep School","Club / AAU / Travel","Postgraduate (PG)","Not Currently Competing"]},{"id":"player_grad_year","label":"What is your expected high school or prep school graduation year?","type":"single_select","required":true,"options":["2025","2026","2027","2028","2029 or later","Already Graduated"]},{"id":"player_college_interest_level","label":"What level of collegiate athletics are you interested in pursuing?","type":"single_select","required":true,"options":["NCAA Division I","NCAA Division II","NCAA Division III","NAIA","Junior College (JUCO)","Undecided / Exploring Options"]},{"id":"player_academic_eligibility","label":"Which best describes your current academic standing?","type":"single_select","required":true,"options":["Academically eligible and on track","Eligible with academic support needed","Currently working toward eligibility","Unsure of eligibility status","Not currently eligible"]},{"id":"player_recruiting_readiness","label":"Which best describes your current recruiting status?","type":"single_select","required":true,"options":["Actively communicating with college coaches","Have received college interest","Have game film ready but no outreach yet","Early-stage athlete seeking exposure","Exploring future opportunities"]}],"coach":[{"id":"coach_role","label":"Which best describes your current coaching role?","type":"single_select","required":true,"options":["Head Coach","Assistant Coach","Position Coach","Program Director","Strength & Conditioning Coach"]},{"id":"coach_level","label":"At what level are you currently coaching?","type":"single_select","required":true,"options":["High School","Prep School","Junior College","NAIA","NCAA Division III","NCAA Division II","NCAA Division I"]},{"id":"coach_active_status","label":"Are you currently active in a coaching role?","type":"single_select","required":true,"options":["Yes, currently coaching","Yes, seasonal or part-time","No, but recently active","No, not currently active"]},{"id":"coach_years_experience","label":"How many years of coaching experience do you have?","type":"single_select","required":true,"options":["0–2 years","3–5 years","6–10 years","11–15 years","16+ years"]},{"id":"coach_recruiting_involvement","label":"What is your involvement in athlete recruiting?","type":"single_select","required":true,"options":["Directly recruit and evaluate athletes","Assist with recruiting decisions","Provide evaluations and recommendations","Limited recruiting involvement","No recruiting involvement"]}],"evaluator":[{"id":"evaluator_background","label":"What best describes your background in athlete evaluation?","type":"single_select","required":true,"options":["College coach or former college coach","High school or prep coach","Professional scout or recruiter","Recruiting analyst / evaluator","Camp or showcase evaluator"]},{"id":"evaluator_levels_evaluated","label":"At which levels have you evaluated athletes?","type":"multi_select","required":true,"options":["High School","Prep School","Junior College","NAIA","NCAA Division III","NCAA Division II","NCAA Division I"]},{"id":"evaluator_years_experience","label":"How many years of athlete evaluation experience do you have?","type":"single_select","required":true,"options":["Less than 1 year","1–3 years","4–7 years","8–12 years","13+ years"]},{"id":"evaluator_context","label":"In which settings do you most often evaluate athletes?","type":"single_select","required":true,"options":["Live games","Camps and showcases","Practices and workouts","Game film","Combination of live and film"]},{"id":"evaluator_purpose","label":"How are your evaluations typically used?","type":"single_select","required":true,"options":["College recruiting decisions","Scholarship or roster evaluations","Athlete development feedback","Ranking or comparison analysis","Exposure and recommendation purposes"]}]},"commonFields":[{"id":"requestedRole","label":"Which type of access are you requesting?","type":"single_select","required":true,"options":["player","coach","evaluator"]},{"id":"sport","label":"Primary sport","type":"single_select","required":true,"optionsRef":"sports.options"},{"id":"sportOther","label":"If Other, enter sport name","type":"text","requiredWhen":{"field":"sport","equals":"Other"},"minLength":2,"maxLength":50}]}}');function h(){let e=u.p,[t,r]=(0,o.useState)(0),[l,h]=(0,o.useState)(""),[m,p]=(0,o.useState)(""),[g,v]=(0,o.useState)("player"),[x,y]=(0,o.useState)("Football"),[f,b]=(0,o.useState)(""),[j,w]=(0,o.useState)({}),[N,_]=(0,o.useState)(!1),[A,q]=(0,o.useState)(null),[C,E]=(0,o.useState)(null),[S,I]=(0,o.useState)(void 0),k=(0,o.useMemo)(()=>{var t;return null!=(t=e.questionsByRole[g])?t:[]},[g,e.questionsByRole]);function O(e,t){w(r=>({...r,[e.id]:t}))}function P(e){let t={};if(0===e)return l.trim()||(t.fullName=["Full name is required."]),m.trim()?!function(e){let t=e.trim();return t.length>=5&&t.includes("@")&&t.includes(".")}(m)&&(t.email=["Please enter a valid email."]):t.email=["Email is required."],t;if(1===e)return g||(t.requestedRole=["Requested role is required."]),x||(t.sport=["Sport is required."]),"Other"===x&&f.trim().length<2&&(t.sportOther=["Please enter your sport."]),t;if(2===e)for(let e of k){if(!e.required)continue;let r=j[e.id];"multi_select"===e.type?Array.isArray(r)&&0!==r.length||(t[e.id]=["This field is required."]):r&&("string"!=typeof r||r.trim())||(t[e.id]=["This field is required."])}return t}async function R(){q(null),E(null),I(void 0);let e={...P(0),...P(1),...P(2)};if(Object.keys(e).length>0)return void I(e);_(!0);try{await (0,n.n)("/api/access-requests",{method:"POST",body:JSON.stringify({fullName:l.trim(),email:m.trim().toLowerCase(),requestedRole:g,sport:x,sportOther:"Other"===x?f.trim():void 0,answers:j})}),q("Request submitted. If approved, you will receive an email with next steps."),r(3)}catch(r){var t;let e=(0,d._)(r);E(null!=(t=e.formError)?t:"Failed to submit request"),I(e.fieldErrors)}finally{_(!1)}}return(0,i.jsx)("div",{className:"mx-auto max-w-2xl",children:(0,i.jsxs)(a.Zp,{children:[(0,i.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-xl font-semibold",children:"Request access"}),(0,i.jsx)("p",{className:"mt-1 text-sm text-white/80",children:"GoEducate Talent is invite-only. Submit this request and we’ll email you with next steps."})]}),(0,i.jsxs)("div",{className:"text-xs text-white/60",children:["Survey v",e.version]})]}),(0,i.jsxs)("div",{className:"mt-6 flex items-center gap-2 text-xs text-white/70",children:[(0,i.jsx)("div",{className:"rounded-full px-2 py-1 ".concat(t>=0?"bg-white/10":"bg-white/5"),children:"About"}),(0,i.jsx)("div",{className:"h-px w-6 bg-white/10"}),(0,i.jsx)("div",{className:"rounded-full px-2 py-1 ".concat(t>=1?"bg-white/10":"bg-white/5"),children:"Role & sport"}),(0,i.jsx)("div",{className:"h-px w-6 bg-white/10"}),(0,i.jsx)("div",{className:"rounded-full px-2 py-1 ".concat(t>=2?"bg-white/10":"bg-white/5"),children:"Screening"}),(0,i.jsx)("div",{className:"h-px w-6 bg-white/10"}),(0,i.jsx)("div",{className:"rounded-full px-2 py-1 ".concat(t>=3?"bg-white/10":"bg-white/5"),children:"Done"})]}),(0,i.jsxs)("div",{className:"mt-6",children:[(0,i.jsx)(c.N,{formError:null!=C?C:void 0,fieldErrors:S}),A?(0,i.jsx)("div",{className:"mt-3 text-sm text-white/80",children:A}):null]}),0===t?(0,i.jsxs)("div",{className:"mt-6 grid gap-4",children:[(0,i.jsxs)("div",{className:"grid gap-2",children:[(0,i.jsx)(a.JU,{htmlFor:"fullName",children:"Full name"}),(0,i.jsx)(a.pd,{id:"fullName",value:l,onChange:e=>h(e.target.value),autoComplete:"name"}),(0,i.jsx)(c.b,{name:"fullName",fieldErrors:S})]}),(0,i.jsxs)("div",{className:"grid gap-2",children:[(0,i.jsx)(a.JU,{htmlFor:"email",children:"Email"}),(0,i.jsx)(a.pd,{id:"email",value:m,onChange:e=>p(e.target.value),autoComplete:"email"}),(0,i.jsx)(c.b,{name:"email",fieldErrors:S})]})]}):null,1===t?(0,i.jsxs)("div",{className:"mt-6 grid gap-4",children:[(0,i.jsxs)("div",{className:"grid gap-2",children:[(0,i.jsx)(a.JU,{htmlFor:"requestedRole",children:"Requested role"}),(0,i.jsx)("select",{id:"requestedRole",className:"w-full rounded-md border border-white/10 bg-white/5 px-3 py-2 text-sm text-white/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/60",value:g,onChange:e=>{v(e.target.value),w({})},children:e.roles.map(e=>(0,i.jsx)("option",{value:e,children:e},e))}),(0,i.jsx)(c.b,{name:"requestedRole",fieldErrors:S})]}),(0,i.jsxs)("div",{className:"grid gap-2",children:[(0,i.jsx)(a.JU,{htmlFor:"sport",children:"Primary sport"}),(0,i.jsx)("select",{id:"sport",className:"w-full rounded-md border border-white/10 bg-white/5 px-3 py-2 text-sm text-white/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/60",value:x,onChange:e=>y(e.target.value),children:e.sports.options.map(e=>(0,i.jsx)("option",{value:e,children:e},e))}),(0,i.jsx)(c.b,{name:"sport",fieldErrors:S})]}),"Other"===x?(0,i.jsxs)("div",{className:"grid gap-2",children:[(0,i.jsx)(a.JU,{htmlFor:"sportOther",children:"Other sport"}),(0,i.jsx)(a.pd,{id:"sportOther",value:f,onChange:e=>b(e.target.value),placeholder:"Enter sport name"}),(0,i.jsx)(c.b,{name:"sportOther",fieldErrors:S})]}):null]}):null,2===t?(0,i.jsxs)("div",{className:"mt-6 grid gap-5",children:[(0,i.jsxs)("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[(0,i.jsxs)("div",{className:"text-sm font-semibold",children:["Requested role: ",g]}),(0,i.jsxs)("div",{className:"mt-1 text-sm text-white/80",children:["Sport: ",x,"Other"===x&&f.trim()?" (".concat(f.trim(),")"):""]})]}),k.map(e=>{var t,r;return(0,i.jsxs)("div",{className:"grid gap-2",children:[(0,i.jsxs)(a.JU,{htmlFor:e.id,children:[e.label,e.required?" *":""]}),"text"===e.type?(0,i.jsx)(a.pd,{id:e.id,value:"string"==typeof j[e.id]?j[e.id]:"",onChange:t=>O(e,t.target.value)}):null,"single_select"===e.type?(0,i.jsxs)("select",{id:e.id,className:"w-full rounded-md border border-white/10 bg-white/5 px-3 py-2 text-sm text-white/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/60",value:"string"==typeof j[e.id]?j[e.id]:"",onChange:t=>O(e,t.target.value),children:[(0,i.jsx)("option",{value:"",disabled:!0,children:"Select…"}),(null!=(t=e.options)?t:[]).map(e=>(0,i.jsx)("option",{value:e,children:e},e))]}):null,"multi_select"===e.type?(0,i.jsx)("div",{className:"grid gap-2",children:(null!=(r=e.options)?r:[]).map(t=>{let r=j[e.id],l=!!Array.isArray(r)&&r.includes(t);return(0,i.jsxs)("label",{className:"flex items-center gap-2 text-sm text-white/90",children:[(0,i.jsx)("input",{type:"checkbox",checked:l,onChange:()=>(function(e,t){let r=j[e.id],i=Array.isArray(r)?r:[];i.includes(t)?O(e,i.filter(e=>e!==t)):O(e,[...i,t])})(e,t)}),(0,i.jsx)("span",{children:t})]},t)})}):null,(0,i.jsx)(c.b,{name:e.id,fieldErrors:S})]},e.id)})]}):null,3===t?(0,i.jsxs)("div",{className:"mt-6 grid gap-3",children:[(0,i.jsxs)("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[(0,i.jsx)("div",{className:"text-sm font-semibold",children:"Submitted"}),(0,i.jsx)("p",{className:"mt-1 text-sm text-white/80",children:"Thanks — we received your request. If approved, you’ll receive an email with an invite link."})]}),(0,i.jsx)(s(),{href:"/login",className:"text-sm text-indigo-300 hover:text-indigo-200 hover:underline",children:"Return to login"})]}):null,t<3?(0,i.jsxs)("div",{className:"mt-6 flex flex-wrap items-center justify-between gap-3",children:[(0,i.jsx)("div",{className:"flex items-center gap-2",children:t>0?(0,i.jsx)(a.$n,{type:"button",className:"border border-white/15 bg-white/5 hover:bg-white/10",onClick:()=>{E(null),I(void 0),r(e=>Math.max(0,e-1))},children:"Back"}):null}),(0,i.jsx)("div",{className:"flex items-center gap-2",children:t<2?(0,i.jsx)(a.$n,{type:"button",onClick:()=>{E(null),I(void 0);let e=P(t);if(Object.keys(e).length>0)return void I(e);r(e=>e+1)},children:"Continue"}):(0,i.jsx)(a.$n,{type:"button",onClick:R,disabled:N,children:N?"Submitting...":"Submit request"})})]}):null]})})}}},e=>{e.O(0,[664,587,18,358],()=>e(e.s=7038)),_N_E=e.O()}]);