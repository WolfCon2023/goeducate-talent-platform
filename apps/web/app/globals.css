@tailwind base;
@tailwind components;
@tailwind utilities;

/* Design tokens + theming
   - Default is dark (matches GoEducate dark-first design)
   - Theme is controlled via html[data-theme="dark"|"light"] */
:root,
html[data-theme="dark"] {
  --color-bg: #0a0a0a;
  --color-panel: #111318;
  --color-muted: rgba(255, 255, 255, 0.06);
  --color-text: #ededed;
  --color-text-muted: rgba(237, 237, 237, 0.78);
  --color-primary: #4f46e5; /* indigo-600 */
  --color-primary-600: #4f46e5;
  --color-primary-500: #6366f1; /* indigo-500 */
  --color-border: rgba(255, 255, 255, 0.12);
}

html[data-theme="light"] {
  --color-bg: #ffffff;
  --color-panel: #ffffff;
  --color-muted: #f5f7fb;
  --color-text: #0a0a0a;
  --color-text-muted: #51607f;
  --color-primary: #4f46e5;
  --color-primary-600: #4f46e5;
  --color-primary-500: #6366f1;
  --color-border: #e2e8f0;
}

/* Light-mode compatibility layer
   Many components were originally authored with dark-first Tailwind utilities like:
   - text-white/80, border-white/10, bg-white/5, placeholder:text-white/40, ring-white/60
   In light mode those are unreadable. These overrides remap them to theme tokens. */
html[data-theme="light"] .text-white,
html[data-theme="light"] .text-white\/90,
html[data-theme="light"] .text-white\/80,
html[data-theme="light"] .text-white\/70,
html[data-theme="light"] .text-white\/60,
html[data-theme="light"] .text-white\/50,
html[data-theme="light"] .text-white\/40 {
  color: var(--foreground) !important;
}

html[data-theme="light"] .text-white\/90,
html[data-theme="light"] .text-white\/80 {
  color: var(--foreground) !important;
}
html[data-theme="light"] .text-white\/70,
html[data-theme="light"] .text-white\/60 {
  color: var(--muted) !important;
}
html[data-theme="light"] .text-white\/50,
html[data-theme="light"] .text-white\/40 {
  color: var(--muted-2) !important;
}

html[data-theme="light"] .bg-white\/5,
html[data-theme="light"] .bg-white\/10 {
  background: var(--surface-soft) !important;
}

html[data-theme="light"] .border-white\/5,
html[data-theme="light"] .border-white\/10,
html[data-theme="light"] .border-white\/15 {
  border-color: var(--border) !important;
}

html[data-theme="light"] .placeholder\:text-white\/40::placeholder,
html[data-theme="light"] .placeholder\:text-white\/60::placeholder,
html[data-theme="light"] .placeholder\:text-white\/70::placeholder {
  color: var(--muted-2) !important;
}

html[data-theme="light"] .focus-visible\:ring-white\/60:focus-visible {
  --tw-ring-color: var(--color-primary-600) !important;
}

/* Backwards-compatible aliases used throughout the app */
:root,
html[data-theme="dark"],
html[data-theme="light"] {
  --background: var(--color-bg);
  --foreground: var(--color-text);
  --surface: var(--color-panel);
  --brand-600: var(--color-primary-600);
  --brand-500: var(--color-primary-500);

  --muted: var(--color-text-muted);
  --muted-2: var(--color-text-muted);
  --muted-3: var(--color-text-muted);
  --border: var(--color-border);
  --surface-soft: var(--color-muted);
  --link: var(--color-primary);
  --link-hover: var(--color-primary-500);
}

html,
body {
  height: 100%;
}

@layer base {
  html[data-theme="dark"] {
    color-scheme: dark;
  }
  html[data-theme="light"] {
    color-scheme: light;
  }

  body {
    background: var(--background);
    color: var(--foreground);
    font-size: 17px;
  }

  a {
    @apply underline-offset-4;
  }

  /* Native form controls: improve dropdown readability across browsers */
  select {
    background: var(--color-panel);
    color: var(--color-text);
  }
  option {
    background: var(--color-panel);
    color: var(--color-text);
  }
}

@layer utilities {
  .section {
    @apply mx-auto max-w-7xl px-6 py-16 sm:px-8 sm:py-20;
  }

  .card-surface {
    @apply rounded-2xl border border-[color:var(--border)] bg-[var(--surface)] p-5;
  }

  .eyebrow {
    @apply mb-2 inline-block rounded-full border border-[color:var(--border)] bg-[var(--surface-soft)] px-2.5 py-1 text-[11px] font-semibold;
    color: var(--muted-2);
  }

  .text-muted {
    color: var(--muted);
  }
  .text-muted-2 {
    color: var(--muted-2);
  }
  .text-muted-3 {
    color: var(--muted-3);
  }
  .border-standard {
    border-color: var(--border);
  }
  .bg-surface {
    background: var(--surface);
  }
  .bg-surface-soft {
    background: var(--surface-soft);
  }
  .link {
    color: var(--link);
  }
  .link:hover {
    color: var(--link-hover);
    text-decoration: underline;
  }
}

@media print {
  html,
  body {
    background: #ffffff !important;
    color: #000000 !important;
  }

  /* Remove dark-mode card styling when printing */
  .bg-white\/5,
  .bg-white\/10,
  .bg-\[var\(--surface\)\],
  .bg-\[var\(--surface-soft\)\] {
    background: transparent !important;
  }

  .border-white\/10,
  .border-white\/15,
  .border-\[color\:var\(--border\)\],
  .border-\[color\:var\(--color-border\)\] {
    border-color: #d1d5db !important; /* neutral-300 */
  }

  .text-white,
  .text-white\/90,
  .text-white\/80,
  .text-white\/70,
  .text-white\/60,
  .text-\[color\:var\(--foreground\)\],
  .text-\[color\:var\(--muted\)\],
  .text-\[color\:var\(--muted-2\)\],
  .text-\[color\:var\(--muted-3\)\] {
    color: #000000 !important;
  }

  a {
    color: #000000 !important;
    text-decoration: none !important;
  }

  /* Avoid clipped layouts on print */
  main {
    max-width: none !important;
    padding: 0 !important;
  }
}

/* Legal pages typography fixes */
.legal-page-body,
.legal-page-body * {
  white-space: normal !important;
}

.legal-page-body p,
.legal-page-body li {
  white-space: normal !important;
  word-break: normal !important;
  overflow-wrap: normal !important;
  max-width: none !important;
  display: block;
}



